<!DOCTYPE html>
<meta charset="utf-8">
<title>Clasificados a través de los años</title>

<p>
<label for="year" 
		style="display: inline-block; width: 240px; text-align: right">
		Año = <span id="year-value">1998</span>
</label>
<input type="range" min="1998" max="2014" id="year">
</p>

<script src="d3.v3.min.js"></script>
<script>

//cargando el svg en blanco...
var svg_file = "Blank_Argentina_Map_color.svg";

var n_provinces = 44;

d3.xml(svg_file, "image/svg+xml", function(xml)
{
	document.body.appendChild(xml.documentElement);	
});

//asociando el slider al mapa...
d3.select("#year").on("input", function(){update_svg(+this.value);});

function update_svg(year)
{
	//actualizando slider
	d3.select("#year-value").text(year);
	d3.select("#year").property("year", year);
	
	//leyendo archivo svg correspondiente al año
	var svg = "clasificados/mapa"+year+".svg";
	
	d3.xml(svg,"image/svg+xml", function(xml)
		{
			for(var i = 0; i < n_provinces; i++){
				path = d3.selectAll("path")[0][i];
				path.style.fill = xml.documentElement.getElementById(path.id).style.fill;	
			} 
		});
}
</script>

